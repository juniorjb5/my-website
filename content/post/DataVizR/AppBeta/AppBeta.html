---
title: "Renewables Portfolio"
author: " "
output: 
  flexdashboard::flex_dashboard:
    # orientation: rows
    theme: cerulean
    logo: industrial2.png
    social: menu
    #source_code: embed
runtime: shiny
---

<script src="/www.joaquibarandica.iormarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/jquery/jquery.min.js"></script>
<link href="/www.joaquibarandica.iormarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/www.joaquibarandica.iormarkdown-libs/leaflet/leaflet.js"></script>
<link href="/www.joaquibarandica.iormarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/www.joaquibarandica.iormarkdown-libs/proj4/proj4.min.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/www.joaquibarandica.iormarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/www.joaquibarandica.iormarkdown-libs/leaflet-binding/leaflet.js"></script>
<link href="/www.joaquibarandica.iormarkdown-libs/leaflet-markercluster/MarkerCluster.css" rel="stylesheet" />
<link href="/www.joaquibarandica.iormarkdown-libs/leaflet-markercluster/MarkerCluster.Default.css" rel="stylesheet" />
<script src="/www.joaquibarandica.iormarkdown-libs/leaflet-markercluster/leaflet.markercluster.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/leaflet-markercluster/leaflet.markercluster.freezable.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/leaflet-markercluster/leaflet.markercluster.layersupport.js"></script>
<link href="shared/selectize/css/selectize.bootstrap3.css" rel="stylesheet" />
<script src="shared/selectize/js/selectize.min.js"></script>
<script src="shared/selectize/accessibility/js/selectize-plugin-a11y.min.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/proj4js/proj4.js"></script>
<link href="/www.joaquibarandica.iormarkdown-libs/highcharts/css/motion.css" rel="stylesheet" />
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/highcharts.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/highcharts-3d.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/highcharts-more.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/stock.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/map.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/data.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/exporting.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/offline-exporting.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/drilldown.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/item-series.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/overlapping-datalabels.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/annotations.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/export-data.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/funnel.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/heatmap.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/treemap.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/sankey.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/dependency-wheel.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/organization.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/solid-gauge.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/streamgraph.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/sunburst.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/vector.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/wordcloud.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/xrange.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/tilemap.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/venn.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/gantt.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/timeline.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/parallel-coordinates.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/bullet.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/coloraxis.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/dumbbell.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/lollipop.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/series-label.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/plugins/motion.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/custom/reset.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highcharts/modules/boost.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/highchart-binding/highchart.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/www.joaquibarandica.iormarkdown-libs/typedarray/typedarray.min.js"></script>
<link href="/www.joaquibarandica.iormarkdown-libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
<script src="/www.joaquibarandica.iormarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/www.joaquibarandica.iormarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/www.joaquibarandica.iormarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<div id="section-georeferenciación" class="section level1">
<h1>Georeferenciación</h1>
<div id="section-column" class="section level2" data-width="650">
<h2>Column</h2>
<div id="section-geolocalización-de-fuentes-de-energía" class="section level3">
<h3>Geolocalización de fuentes de energía</h3>
<pre class="r"><code>renderLeaflet({
Places%&gt;% 
leaflet() %&gt;%
  addTiles() %&gt;% 
  addCircleMarkers(~Long, ~Lat, 
             popup = paste(&quot;Potencia instalada:&quot;, Places$Potmw), 
             label = ~as.character(Nombre),
             color=~ratingcol) %&gt;% 
  leaflet::addLegend(&quot;bottomleft&quot;, 
            colors =c(&quot;#2ECC71&quot;, &quot;#21618C&quot; , &quot;#F39C12&quot;),
            labels = c(&quot;Eólica&quot;,
                       &quot;Hidráulica&quot;,
                       &quot;Solar&quot;), 
            opacity = 0.8)

})</code></pre>
<p><div id="outd035ebefc0a3ad3a" style="width:100%; height:400px; " class="leaflet html-widget html-widget-output"></div></p>
</div>
</div>
<div id="section-column-1" class="section level2" data-width="350">
<h2>Column</h2>
<div id="section-geolocalización-de-cluster-de-generación-de-energía" class="section level3">
<h3>Geolocalización de cluster de generación de energía</h3>
<pre class="r"><code>Places %&gt;% 
  leaflet() %&gt;%
  addTiles() %&gt;% 
addMarkers(
  clusterOptions = markerClusterOptions()
)</code></pre>
<pre><code>## Assuming &quot;Long&quot; and &quot;Lat&quot; are longitude and latitude, respectively</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[-28.6987303486941,-28.7172354461137,-33.218800829899,-35.0812975863621,-36.2601318026089,-37.1181575905463,-38.1503920445085,-38.212796287814,-38.6135448306993,-37.4900431047583,-38.3187246956547,-38.3187878561184,-38.4079806463346,-38.5759772347887,-38.6904662927965,-38.6742468830789,-38.8668762147097,-38.6170968509167,-39.2144681590522,-40.0098662885638,-39.5674873059828,-39.753662575645,-42.5870353694604,-42.7438377730434,-42.7353016575086,-43.0322317763895,-43.129827896657,-43.3265931915306,-44.5308634710083,-44.9841310353513,-45.6514640550938,-45.8094881489017,-45.766816742039,-45.7806943770765,-45.8469973517448,-46.6422753218872,-46.5878716847496,-47.2960619483544,-23.0863117615731,-24.1389967031119,-24.0915128342498,-24.1403476538689,-26.0401880861916,-27.6310292416474,-28.0344464541271,-28.1615614064323,-28.1999045089399,-28.7049961995405,-29.3277818717969,-29.306661825865,-29.2978347606753,-29.9710189643698,-30.3563101638888,-30.5486100777485,-31.3885029280792,-31.4611930834358,-31.4066802194203,-31.9852467627788,-31.7220616847186,-31.9409663485671,-32.4926660380682,-32.7189981120724,-33.0010931436736,-33.1206285002931,-33.0383601364327,-33.44192150763,-33.4877665973476,-33.2923398920168,-33.2982471208658,-33.3307575410924,-34.8258511675254,-34.4808555161578,-27.4587314568088,-25.2522769114841,-25.3349389347454,-26.616279707625,-27.1445319397374,-27.65906076971,-27.5232735962609,-27.650543639437,-31.2749999286942,-31.84328984309,-31.3735975512772,-31.8165092265884,-32.2240577030274,-31.4808109045409,-30.1835174068878,-31.5164831234897,-31.5189792797806,-33.0444361531118,-33.3012153844583,-34.5797487136032,-34.5986243830341,-34.6085207878497,-34.8438487541776,-34.9043680843907,-38.1944058757199,-38.5968770584952,-38.4982008265494,-39.1129919342585,-39.2683265505903,-40.0160537012675,-40.0520881698234,-40.5799150432301,-43.12960032256,-43.6993946553587],[-66.7306069633275,-66.7192716451991,-65.0711174488782,-69.5810313573938,-59.9775973913939,-59.8325057300394,-58.2292226694667,-58.0614503928509,-58.8241178682103,-64.7449765742362,-62.282531583124,-62.2811118591758,-62.2700906440098,-61.9220826920695,-62.0105942142264,-62.0376541289617,-62.0868129696594,-62.7605262703087,-62.5678726287064,-62.6482906267158,-65.6917777300059,-69.7554705122721,-65.1566768989091,-65.0482386627059,-65.2486946132195,-65.1845707403991,-65.2575251934748,-65.1829637267128,-66.4529464054646,-67.0572711863195,-67.7538762682748,-68.0558786426028,-67.6665976605914,-67.6801206088114,-67.9063508629864,-68.4030482274598,-67.6419337000852,-66.9982939405528,-65.3846256682946,-66.8957517184271,-66.7244821411889,-66.7199444175122,-65.9114090282638,-67.6157091596039,-67.5588256554911,-66.2210922289875,-65.1024625492712,-65.9709454479249,-67.426123828387,-67.520755052787,-68.2009571672731,-63.7768444670938,-69.2856144865118,-69.5064206190688,-68.6758331584801,-68.6554117004964,-68.4775759708159,-68.5396027166371,-65.0386919809574,-65.1703908738272,-63.3995223303986,-68.5324496333978,-68.9063115122204,-68.8858880907196,-68.5418500736513,-68.6836544534518,-68.9917102479669,-66.3930242895612,-66.2922917853242,-66.1533140655706,-68.5374590547806,-58.5881871953034,-56.7708313406796,-64.4984518218132,-65.4374071729436,-65.193464487659,-65.7524486258913,-65.7628711398787,-64.8877617602346,-64.3629071967395,-57.9401191033547,-64.4147600923429,-64.4328586755491,-64.5093547682074,-64.5669361900605,-68.6761204043583,-69.0667099016935,-68.8148460141772,-68.984015255202,-69.05063143487,-68.7220131932968,-69.0763396401645,-68.65846628379,-68.6126255280989,-68.5194638981529,-68.6179021800431,-67.191945231862,-68.4941469597908,-68.8487687256608,-68.5839552703724,-68.7611834972815,-69.9937767915355,-70.008481181641,-70.7584373618275,-71.6285087868587,-66.485767052986],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-47.2960619483544,-23.0863117615731],"lng":[-71.6285087868587,-56.7708313406796]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-generación-de-energía-según-el-tipo-de-fuente" class="section level3">
<h3>Generación de energía según el tipo de fuente</h3>
<pre class="r"><code>Places %&gt;% 
  group_by(Tipo) %&gt;% 
  summarise(TotMW=sum(Potmw,na.rm = TRUE)) %&gt;% 
  ggplot(aes(x=Tipo, y=TotMW,fill=Tipo)) +
  geom_bar(stat=&quot;identity&quot;)+
  scale_fill_manual(values = c(&quot;#2ECC71&quot;, &quot;#21618C&quot; , &quot;#F39C12&quot;))+
  theme_minimal()+
  geom_text(aes(label=TotMW), position=position_dodge(width=0.9), vjust=-0.25, size=5)+
  theme(legend.position = &quot;none&quot;, axis.text.x = element_text(size=15),
        axis.text.y = element_text(size=15))+
  xlab(&quot; &quot;)+
  ylab(&quot; MW &quot;)</code></pre>
<p><img src="/www.joaquibarandica.iopost/DataVizR/AppBeta/AppBeta_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="section-serie-climatológica" class="section level1">
<h1>Serie climatológica</h1>
<div id="section-inputs" class="section level2 sidebar">
<h2>Inputs</h2>
<p>Se requiere realizar todas las selecciones de este menú:</p>
<pre class="r"><code>selectizeInput(
        &quot;Country&quot;, &quot;Elegir País&quot;, choices = Places$Pais,
        options = list(
          placeholder = &#39;Please select an option below&#39;,
          onInitialize = I(&#39;function() { this.setValue(&quot;&quot;); }&#39;)
        )
      )</code></pre>
<div class="form-group shiny-input-container">
<label class="control-label" id="Country-label" for="Country">Elegir País</label>
<div>
<select id="Country" class="form-control"><option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option>
<option value="Argentina" selected>Argentina</option></select>
<script type="application/json" data-for="Country" data-eval="[&quot;onInitialize&quot;]">{"placeholder":"Please select an option below","onInitialize":"function() { this.setValue(\"\"); }","plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<pre class="r"><code>selectizeInput(
        &quot;Fuente&quot;, &quot;Elegir fuente de energía&quot;, choices = Places$Tipo,
        options = list(
          placeholder = &#39;Please select an option below&#39;,
          onInitialize = I(&#39;function() { this.setValue(&quot;&quot;); }&#39;)
        )
      )</code></pre>
<div class="form-group shiny-input-container">
<label class="control-label" id="Fuente-label" for="Fuente">Elegir fuente de energía</label>
<div>
<select id="Fuente" class="form-control"><option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Eólica" selected>Eólica</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Solar">Solar</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option>
<option value="Hidráulica">Hidráulica</option></select>
<script type="application/json" data-for="Fuente" data-eval="[&quot;onInitialize&quot;]">{"placeholder":"Please select an option below","onInitialize":"function() { this.setValue(\"\"); }","plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<pre class="r"><code>zone.choices = reactive({
    Places %&gt;%
  filter(Pais==input$Country &amp; Tipo==input$Fuente)
})


renderUI({selectInput(&quot;A&quot;, label = &quot;Lugar a analizar&quot;,
        choices = zone.choices()$Nombre)})</code></pre>
<p><div id="outf05cb779854118c3" class="shiny-html-output"></div></p>
<pre class="r"><code>#actionButton(&quot;Submit&quot;, &quot;Buscar&quot;)


#pos &lt;- eventReactive(input$Submit, {
#             Places %&gt;% 
#                     filter(Nombre==input$A)
#     })</code></pre>
<p>Las series climatológicas dependen del tipo de generación de energía.</p>
<ul>
<li><strong>Eólica:</strong> Velocidad del viento (2m)</li>
<li><strong>Solar:</strong> Irradiación solar (JM/m2)</li>
<li><strong>Hidráulica:</strong> Precipitación (mm)</li>
</ul>
</div>
<div id="section-column-2" class="section level2" data-width="650">
<h2>Column</h2>
<div id="section-serie-de-tiempo-climatológica" class="section level3">
<h3>Serie de tiempo climatológica</h3>
<pre class="r"><code>library(xts)</code></pre>
<pre><code>## Loading required package: zoo</code></pre>
<pre><code>## 
## Attaching package: &#39;zoo&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric</code></pre>
<pre><code>## 
## Attaching package: &#39;xts&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:leaflet&#39;:
## 
##     addLegend</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     first, last</code></pre>
<pre class="r"><code>library(highcharter)</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;quantmod&#39;:
##   method            from
##   as.zoo.data.frame zoo</code></pre>
<pre class="r"><code>Argentina_xts &lt;- xts(Base[,-1],Base$YYYYMMDD)
colnames(Argentina_xts)&lt;-gsub(&quot;.&quot;, &quot; &quot;, colnames(Base[,-1]),fixed = TRUE)


  renderHighchart({
          highchart(type = &quot;stock&quot;) %&gt;% 
          hc_title(text = paste(&quot;Fuente&quot;,input$Fuente,input$A)) %&gt;%
          hc_add_series(Argentina_xts[,input$A]) %&gt;% 
          hc_add_theme(hc_theme_flat())
})</code></pre>
<p><div id="out3700b8cdf849056b" style="width:100%; height:400px; " class="highchart html-widget html-widget-output"></div></p>
</div>
</div>
<div id="section-column-3" class="section level2" data-width="350">
<h2>Column</h2>
<div id="section-geolocalización-de-fuentes-de-energía-1" class="section level3">
<h3>Geolocalización de fuentes de energía</h3>
<pre class="r"><code>renderLeaflet({
Places %&gt;% 
  filter(Nombre==input$A) %&gt;% 
leaflet() %&gt;%
  addProviderTiles(
    &quot;Esri.WorldImagery&quot;,
    group = &quot;Esri.WorldImagery&quot;
  ) %&gt;% 
  addCircleMarkers(~Long, ~Lat, 
             label = ~as.character(Nombre),
             color=~ratingcol,opacity = 2) 
  

})</code></pre>
<p><div id="out42bd7bf7ad69e43e" style="width:100%; height:400px; " class="leaflet html-widget html-widget-output"></div></p>
</div>
<div id="section-potencia" class="section level3">
<h3>Potencia</h3>
<pre class="r"><code>renderValueBox({
  valueBox(paste(Places %&gt;% 
             filter(Nombre==input$A) %&gt;% 
             select(Potmw) %&gt;% 
             as.numeric(),&quot;MW&quot;),
      icon = &quot;fas fa-lightbulb&quot;, 
      caption=&quot;POTENCIA INSTALADA&quot;,
      color = &quot;orange&quot;)
}) </code></pre>
<p><div class="shiny-html-output shiny-html-output shiny-valuebox-output" height="160px" id="out11f17c2b313e6e4d" width="100%"></div></p>
</div>
</div>
</div>
<div id="section-portafolio" class="section level1">
<h1>Portafolio</h1>
<div id="section-row" class="section level2">
<h2>Row</h2>
<div id="section-risk-vs-sharpe-ratio" class="section level3">
<h3>Risk vs Sharpe Ratio</h3>
<pre class="r"><code>###########################################################################
#
# Optimización ------------------------------------------------------------


library(PortfolioAnalytics)</code></pre>
<pre><code>## Loading required package: foreach</code></pre>
<pre><code>## 
## Attaching package: &#39;foreach&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:purrr&#39;:
## 
##     accumulate, when</code></pre>
<pre><code>## Loading required package: PerformanceAnalytics</code></pre>
<pre><code>## 
## Attaching package: &#39;PerformanceAnalytics&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     legend</code></pre>
<pre class="r"><code>library(PerformanceAnalytics)

Base_Argentina&lt;-readRDS(&quot;Base_Argentina.RDS&quot;)

Argentina_xts &lt;- xts(Base_Argentina[,-1],Base_Argentina$YYYYMMDD)
colnames(Argentina_xts)&lt;-gsub(&quot;.&quot;, &quot; &quot;, colnames(Base_Argentina[,-1]),fixed = TRUE)

#Retornos
# Preguntar por el método que pasa con el logaritmo de los negativos
retornos &lt;- CalculateReturns(Argentina_xts) %&gt;% 
            na.omit()
retornos &lt;- retornos[!is.infinite(rowSums(retornos)),]


#Sharpe Ratio
sharpe.indiv1 &lt;- SharpeRatio(retornos, Rf = 0 , FUN = &quot;StdDev&quot;)


sd_Sh&lt;-data.frame(sd=as.vector(apply(retornos,2,sd)),
                  Sh=as.vector(sharpe.indiv1),
                  Tipo=Places$Tipo,
                  Nombre=Places$Nombre)
#View(sd_Sh)

#Grafico des ves vs sharpe ratio
plot_sd_Sh&lt;-sd_Sh %&gt;% 
              ggplot(aes(x=sd,y=Sh,color=Tipo, label=Nombre)) +
              geom_point(size=2)+
              facet_grid(~Tipo,scales=&quot;free&quot;)+
  xlab(&quot;Desviación Estándar&quot;)+
  ylab(&quot;Sharpe Ratio&quot;)


library(plotly)               </code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<pre class="r"><code>ggplotly(plot_sd_Sh)</code></pre>
<div id="htmlwidget-2" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"data":[{"x":[0.571029131723252,0.578158612256364,0.533533821324389,0.433055967174633,0.532577879601773,0.571029131723252,0.542788753178989,0.542788753178989,0.621779494758164,0.571029131723252,0.54385211431785,0.627563967703239,0.625012913869954,0.625012913869954,0.58588663976367,0.617748011129169,0.540461459241202,0.604497288241972,0.540461459241202,0.484044793072661,0.617748011129169,0.548655849049065,0.54385211431785,0.574181710225972,0.486584200790294,0.610374599393352,0.617748011129169,0.54385211431785,0.54385211431785,0.556747972085339,0.574181710225972,0.540461459241202,0.433055967174633,0.45773015027508,0.55972195556551,0.616904243508428,0.600776039278518,0.551807916366827],"y":[0.19832547970429,0.201065482928242,0.192034088457116,0.169327719573489,0.195105054866114,0.19832547970429,0.196580031800051,0.196580031800051,0.208685406986677,0.19832547970429,0.18243188990449,0.208925972767106,0.207813900071321,0.207813900071321,0.202796397283389,0.209885181722585,0.1872313976252,0.205823172114537,0.1872313976252,0.182178512458631,0.209885181722585,0.186718230258584,0.18243188990449,0.199073414514109,0.181876208246692,0.206367145061366,0.209885181722585,0.18243188990449,0.18243188990449,0.199249066488871,0.199073414514109,0.1872313976252,0.169327719573489,0.174447734388935,0.184566606202368,0.210058311897235,0.203040046224753,0.18622528192003],"text":["sd:  0.5710291<br />Sh: 0.1983255<br />Tipo: Eólica<br />Nombre: Parque Eólico Arauco SAPEM","sd:  0.5781586<br />Sh: 0.2010655<br />Tipo: Eólica<br />Nombre: Parque Eólico Arauco II","sd:  0.5335338<br />Sh: 0.1920341<br />Tipo: Eólica<br />Nombre: Parque Eólico Achiras","sd:  0.4330560<br />Sh: 0.1693277<br />Tipo: Eólica<br />Nombre: Parque Eólico El Sosneado","sd:  0.5325779<br />Sh: 0.1951051<br />Tipo: Eólica<br />Nombre: Parque Eólico Ing. Mario Cebreiro","sd:  0.5710291<br />Sh: 0.1983255<br />Tipo: Eólica<br />Nombre: Parque Eólico Los Teros II","sd:  0.5427888<br />Sh: 0.1965800<br />Tipo: Eólica<br />Nombre: Parque Eólico “Vientos de Fray Güen”","sd:  0.5427888<br />Sh: 0.1965800<br />Tipo: Eólica<br />Nombre: Parque Eólico Vientos de Miramar","sd:  0.6217795<br />Sh: 0.2086854<br />Tipo: Eólica<br />Nombre: Parque Eólico Vientos de Necochea","sd:  0.5710291<br />Sh: 0.1983255<br />Tipo: Eólica<br />Nombre: Parque Eólico “La Banderita” General Acha","sd:  0.5438521<br />Sh: 0.1824319<br />Tipo: Eólica<br />Nombre: Parque Eólico Tres Picos","sd:  0.6275640<br />Sh: 0.2089260<br />Tipo: Eólica<br />Nombre: Parque Eólico Energética I","sd:  0.6250129<br />Sh: 0.2078139<br />Tipo: Eólica<br />Nombre: Parque Eólico García del Río","sd:  0.6250129<br />Sh: 0.2078139<br />Tipo: Eólica<br />Nombre: Parque Eólico La Genoveva","sd:  0.5858866<br />Sh: 0.2027964<br />Tipo: Eólica<br />Nombre: Parque Eólico Pampa Energía II","sd:  0.6177480<br />Sh: 0.2098852<br />Tipo: Eólica<br />Nombre: Parque Eólico Corti","sd:  0.5404615<br />Sh: 0.1872314<br />Tipo: Eólica<br />Nombre: Parque Eólico Pampa Energía III","sd:  0.6044973<br />Sh: 0.2058232<br />Tipo: Eólica<br />Nombre: Parque Eólico La Castellana","sd:  0.5404615<br />Sh: 0.1872314<br />Tipo: Eólica<br />Nombre: Parque Eólico Vientos del Secano","sd:  0.4840448<br />Sh: 0.1821785<br />Tipo: Eólica<br />Nombre: Parque Eólico Villalonga","sd:  0.6177480<br />Sh: 0.2098852<br />Tipo: Eólica<br />Nombre: Parque Eólico Pomona I","sd:  0.5486558<br />Sh: 0.1867182<br />Tipo: Eólica<br />Nombre: Parque Eólico Vientos Neuquinos","sd:  0.5438521<br />Sh: 0.1824319<br />Tipo: Eólica<br />Nombre: Parque Eólico Chubut Norte III y IV","sd:  0.5741817<br />Sh: 0.1990734<br />Tipo: Eólica<br />Nombre: Parque Eólico Aluar I","sd:  0.4865842<br />Sh: 0.1818762<br />Tipo: Eólica<br />Nombre: El Parque Eólico Madryn","sd:  0.6103746<br />Sh: 0.2063671<br />Tipo: Eólica<br />Nombre: Parque Eólico Loma Blanca","sd:  0.6177480<br />Sh: 0.2098852<br />Tipo: Eólica<br />Nombre: Loma Blanca IV","sd:  0.5438521<br />Sh: 0.1824319<br />Tipo: Eólica<br />Nombre: Parque Eólico Rawson","sd:  0.5438521<br />Sh: 0.1824319<br />Tipo: Eólica<br />Nombre: Parque Eólico Garayalde","sd:  0.5567480<br />Sh: 0.1992491<br />Tipo: Eólica<br />Nombre: Parque Eólico Malaspina","sd:  0.5741817<br />Sh: 0.1990734<br />Tipo: Eólica<br />Nombre: Parque Eólico Manantiales Behr","sd:  0.5404615<br />Sh: 0.1872314<br />Tipo: Eólica<br />Nombre: Parque Eólico Kosten","sd:  0.4330560<br />Sh: 0.1693277<br />Tipo: Eólica<br />Nombre: Parque Eólico Diadema","sd:  0.4577302<br />Sh: 0.1744477<br />Tipo: Eólica<br />Nombre: Parque Eólico Diadema II","sd:  0.5597220<br />Sh: 0.1845666<br />Tipo: Eólica<br />Nombre: Parque Eólico El Tordillo","sd:  0.6169042<br />Sh: 0.2100583<br />Tipo: Eólica<br />Nombre: Parque Eólico Vientos los Hércules","sd:  0.6007760<br />Sh: 0.2030400<br />Tipo: Eólica<br />Nombre: Parque Eólico Cañadón León – YPF Luz","sd:  0.5518079<br />Sh: 0.1862253<br />Tipo: Eólica<br />Nombre: Parque Eólico del Bicentenario"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Eólica","legendgroup":"Eólica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.4696442279062,11.1589661321222,16.2704040551003,17.8357112801434,10.7722150840778,20.3769067920089,22.9472071689975,9.77972104495741,12.3822335800831,18.3465709894382,13.1124976868478,11.8565286500889,22.4058142578737,22.4058142578737,11.9485900721903,11.9485900721903,19.5956683735532,15.3632584928211,22.9472071689975,10.239329197923,11.9571680048702,22.7340629011709,14.2287165670284,23.1601031995008,20.3757321471581,16.1025849748936,22.2535954232264,25.0334396859863,20.6630548687582,23.1601031995008,11.28773046351,11.28773046351,12.8319111463589,13.2784330559487],"y":[0.10895733617493,0.195223374370357,0.141884916541531,0.121470655064017,0.18504832129574,0.119704003161196,0.105832422963792,0.200941036081116,0.163816609192291,0.161137837615976,0.183202078491449,0.18324384333934,0.105585860687455,0.105585860687455,0.187215588102321,0.187215588102321,0.125264758383371,0.140186900409233,0.105832422963792,0.2062444428279,0.173779934506854,0.102386799489213,0.145789038724641,0.104599546550407,0.117407217010525,0.144438975897996,0.113671422267822,0.106341704034045,0.110803801544702,0.104599546550407,0.180732675423304,0.180732675423304,0.168633888263786,0.175447525523443],"text":["sd: 23.4696442<br />Sh: 0.1089573<br />Tipo: Hidráulica<br />Nombre: Yacyretá","sd: 11.1589661<br />Sh: 0.1952234<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico El Tunal (Presa Gral. Martín Miguel de Güemes)","sd: 16.2704041<br />Sh: 0.1418849<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Cabra Corral (Presa Gral. Manuel Belgrano)","sd: 17.8357113<br />Sh: 0.1214707<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Celestino Gelsi","sd: 10.7722151<br />Sh: 0.1850483<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Pueblo Viejo (derivador Los Reales)","sd: 20.3769068<br />Sh: 0.1197040<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Escaba (Presa Escaba)","sd: 22.9472072<br />Sh: 0.1058324<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Río Hondo","sd:  9.7797210<br />Sh: 0.2009410<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Los Quiroga","sd: 12.3822336<br />Sh: 0.1638166<br />Tipo: Hidráulica<br />Nombre: Complejo Hidroeléctrico Salto Grande","sd: 18.3465710<br />Sh: 0.1611378<br />Tipo: Hidráulica<br />Nombre: Complejo Hidroeléctrico Los Molinos II","sd: 13.1124977<br />Sh: 0.1832021<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico San Roque","sd: 11.8565287<br />Sh: 0.1832438<br />Tipo: Hidráulica<br />Nombre: Complejo Hidroeléctrico Los Molinos I","sd: 22.4058143<br />Sh: 0.1055859<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Río Grande","sd: 22.4058143<br />Sh: 0.1055859<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Ullum","sd: 11.9485901<br />Sh: 0.1872156<br />Tipo: Hidráulica<br />Nombre: Complejo Hidroeléctrico Cuesta del Viento","sd: 11.9485901<br />Sh: 0.1872156<br />Tipo: Hidráulica<br />Nombre: Central Hidroeléctrica Punta Negra","sd: 19.5956684<br />Sh: 0.1252648<br />Tipo: Hidráulica<br />Nombre: Complejo Hidroeléctrico Los Caracoles","sd: 15.3632585<br />Sh: 0.1401869<br />Tipo: Hidráulica<br />Nombre: Complejo Hidroeléctrico Centrales Cacheuta – Álvarez Condarco","sd: 22.9472072<br />Sh: 0.1058324<br />Tipo: Hidráulica<br />Nombre: Complejo Hidroeléctrico El Carrizal","sd: 10.2393292<br />Sh: 0.2062444<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Agua del Toro","sd: 11.9571680<br />Sh: 0.1737799<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Reyunos","sd: 22.7340629<br />Sh: 0.1023868<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico El Tigre","sd: 14.2287166<br />Sh: 0.1457890<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Nihuil IV (Presa Valle Grande)","sd: 23.1601032<br />Sh: 0.1045995<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Nihuil III (Presa Tierras Blancas)","sd: 20.3757321<br />Sh: 0.1174072<br />Tipo: Hidráulica<br />Nombre: Complejo Hidroeléctrico Casa de Piedra","sd: 16.1025850<br />Sh: 0.1444390<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Planicie Banderita","sd: 22.2535954<br />Sh: 0.1136714<br />Tipo: Hidráulica<br />Nombre: Complejo Cerros Colorados","sd: 25.0334397<br />Sh: 0.1063417<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Arroyito","sd: 20.6630549<br />Sh: 0.1108038<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico El Chocón","sd: 23.1601032<br />Sh: 0.1045995<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Pichi Picún Leufú","sd: 11.2877305<br />Sh: 0.1807327<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Piedra del Águila","sd: 11.2877305<br />Sh: 0.1807327<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Alicurá","sd: 12.8319111<br />Sh: 0.1686339<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Futaleufú","sd: 13.2784331<br />Sh: 0.1754475<br />Tipo: Hidráulica<br />Nombre: Aprovechamiento Hidroeléctrico Florentino Ameghino"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"Hidráulica","legendgroup":"Hidráulica","showlegend":true,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.369474475136629,0.372438032102376,0.45048368521747,0.378676627360079,0.372438032102376,0.320242052001032,0.387427728516452,0.402881161831241,0.389485079409809,0.378948879867898,0.402881161831241,0.365381222017666,0.315034585710838,0.33639825793505,0.402881161831241,0.320242052001032,0.389485079409809,0.320242052001032,0.320242052001032,0.403814821818862,0.392656403534384,0.33639825793505,0.389485079409809,0.320242052001032,0.378948879867898,0.356066106573154,0.320242052001032,0.361940301909521,0.372438032102376,0.361940301909521,0.392656403534384,0.392656403534384,0.389485079409809,0.348357884450977],"y":[0.12193903830442,0.130743334921195,0.170859314979575,0.133940773092448,0.130743334921195,0.137443056096996,0.138583412904456,0.129073800989996,0.121239372404236,0.137161534674875,0.129073800989996,0.130988769236118,0.138587222263038,0.122422001230543,0.129073800989996,0.137443056096996,0.121239372404236,0.137443056096996,0.137443056096996,0.131395911721688,0.127886305280161,0.122422001230543,0.121239372404236,0.137443056096996,0.137161534674875,0.148385711678424,0.137443056096996,0.141950476366404,0.130743334921195,0.141950476366404,0.127886305280161,0.127886305280161,0.121239372404236,0.138159885322421],"text":["sd:  0.3694745<br />Sh: 0.1219390<br />Tipo: Solar<br />Nombre: Planta solar fotovoltaica Hornaditas","sd:  0.3724380<br />Sh: 0.1307433<br />Tipo: Solar<br />Nombre: Parque Solar Antiplano I","sd:  0.4504837<br />Sh: 0.1708593<br />Tipo: Solar<br />Nombre: Parque Solar Cauchari II- II – III","sd:  0.3786766<br />Sh: 0.1339408<br />Tipo: Solar<br />Nombre: Parque Solar La Puna","sd:  0.3724380<br />Sh: 0.1307433<br />Tipo: Solar<br />Nombre: Parque Solar Cafayate","sd:  0.3202421<br />Sh: 0.1374431<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Fiambalá","sd:  0.3874277<br />Sh: 0.1385834<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Tinogasta II","sd:  0.4028812<br />Sh: 0.1290738<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Saujil","sd:  0.3894851<br />Sh: 0.1212394<br />Tipo: Solar<br />Nombre: Parque Solar La Pirka","sd:  0.3789489<br />Sh: 0.1371615<br />Tipo: Solar<br />Nombre: Parque Solar Los Zorritos (en desarrollo)","sd:  0.4028812<br />Sh: 0.1290738<br />Tipo: Solar<br />Nombre: Parque Solar Nonogasta","sd:  0.3653812<br />Sh: 0.1309888<br />Tipo: Solar<br />Nombre: Parque Solar Nonogasta II y IV","sd:  0.3150346<br />Sh: 0.1385872<br />Tipo: Solar<br />Nombre: Central de energía solar fotovoltaica de La Rioja","sd:  0.3363983<br />Sh: 0.1224220<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Villa María","sd:  0.4028812<br />Sh: 0.1290738<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Iglesia – Guañizuil II A","sd:  0.3202421<br />Sh: 0.1374431<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Tocota","sd:  0.3894851<br />Sh: 0.1212394<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Ullum X","sd:  0.3202421<br />Sh: 0.1374431<br />Tipo: Solar<br />Nombre: Planta solar fotovoltaica de Ullúm","sd:  0.3202421<br />Sh: 0.1374431<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Las Lomitas","sd:  0.4038148<br />Sh: 0.1313959<br />Tipo: Solar<br />Nombre: Parque solar fotovoltaico Cañada Honda","sd:  0.3926564<br />Sh: 0.1278863<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Cura Brochero","sd:  0.3363983<br />Sh: 0.1224220<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Villa Dolores","sd:  0.3894851<br />Sh: 0.1212394<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Arroyo del Cabral","sd:  0.3202421<br />Sh: 0.1374431<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Lavalle","sd:  0.3789489<br />Sh: 0.1371615<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Anchoris","sd:  0.3560661<br />Sh: 0.1483857<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Verano Capital Solar One","sd:  0.3202421<br />Sh: 0.1374431<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Pasip","sd:  0.3619403<br />Sh: 0.1419505<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico La Paz","sd:  0.3724380<br />Sh: 0.1307433<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Zapata (en desarrollo)","sd:  0.3619403<br />Sh: 0.1419505<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico Caldenes del Oeste","sd:  0.3926564<br />Sh: 0.1278863<br />Tipo: Solar<br />Nombre: Parque solar fotovoltaico de Terrazas de Portezuelo","sd:  0.3926564<br />Sh: 0.1278863<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico La Cumbre","sd:  0.3894851<br />Sh: 0.1212394<br />Tipo: Solar<br />Nombre: Parque Solar Fotovoltaico General Alvear","sd:  0.3483579<br />Sh: 0.1381599<br />Tipo: Solar<br />Nombre: Parque Solar Añatuya I"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"Solar","legendgroup":"Solar","showlegend":true,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":18.9954337899543,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,0.329256360078278],"automargin":true,"type":"linear","autorange":false,"range":[0.423330567148203,0.637289367729669],"tickmode":"array","ticktext":["0.45","0.50","0.55","0.60"],"tickvals":[0.45,0.5,0.55,0.6],"categoryorder":"array","categoryarray":["0.45","0.50","0.55","0.60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Desviación Estándar","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.9178082191781},{"text":"Sharpe Ratio","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-33.6073059360731},{"text":"Eólica","x":0.164628180039139,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Hidráulica","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Solar","x":0.835371819960861,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.0970032238688119,0.215441887517636],"tickmode":"array","ticktext":["0.12","0.15","0.18","0.21"],"tickvals":[0.12,0.15,0.18,0.21],"categoryorder":"array","categoryarray":["0.12","0.15","0.18","0.21"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.329256360078278,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.329256360078278,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.337410306588389,"x1":0.662589693411611,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.337410306588389,"x1":0.662589693411611,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.670743639921722,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.670743639921722,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[9.01703511290596,25.7961256180377],"tickmode":"array","ticktext":["10","15","20","25"],"tickvals":[10,15,20,25],"categoryorder":"array","categoryarray":["10","15","20","25"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.337410306588389,0.662589693411611],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[0.308262130735506,0.457256140192802],"tickmode":"array","ticktext":["0.35","0.40","0.45"],"tickvals":[0.35,0.4,0.45],"categoryorder":"array","categoryarray":["0.35","0.40","0.45"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.670743639921722,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Tipo","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3100f811dad":{"x":{},"y":{},"colour":{},"label":{},"type":"scatter"}},"cur_data":"3100f811dad","visdat":{"3100f811dad":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="section-row-1" class="section level2 tabset tabset-fade">
<h2>Row</h2>
<div id="section-portafolio-de-minvar" class="section level3">
<h3>Portafolio de MinVar</h3>
<pre class="r"><code>portfolio_values&lt;-readRDS(&quot;Simulacion_Port.RDS&quot;)

min_var &lt;- portfolio_values[which.min(portfolio_values$Risk),]


#Ordenar (assets) de mayor a menor  (portafolio óptimo de minima varianza)
OPT_1&lt;-min_var %&gt;%
  gather( key = Asset,
          value = Weights) %&gt;% 
  filter(!Asset %in% c(&quot;Risk&quot;, &quot;Return&quot;, &quot;SharpeRatio&quot;)) %&gt;% 
  mutate(Tipo = Places$Tipo) %&gt;% 
  arrange(-Weights)

w1&lt;-OPT_1[1:10,] %&gt;%
 mutate(Asset = as.factor(Asset),Tipo=as.factor(Tipo)) %&gt;% 
  select(Tipo,Asset,Weights) %&gt;% 
  ggplot(aes(x = fct_reorder(Asset,Weights), y = Weights)) +
  geom_bar(stat = &#39;identity&#39;,fill=&quot;#A569BD&quot;) +
  theme_minimal() +
  labs(x = &#39;Assets&#39;, y = &#39;Weights&#39;, title = &quot;Top 10 - Minimum Variance Portfolio Weights&quot;) +
  scale_y_continuous(labels = scales::percent) +
  coord_flip()+
  #geom_text(aes(label=Tipo), vjust=0, hjust = 2, color=&quot;#09325B&quot;,
  #          position = position_dodge(0.9), size=3.5)+
  #scale_fill_manual(values = c(&quot;#2ECC71&quot;, &quot;#F39C12&quot;,&quot;#21618C&quot;))+
    theme(axis.text.y = element_text(hjust=1, vjust=0.5, size=7)) +
  scale_x_discrete(
    limits = rev(levels(OPT_1$Asset)),
    labels=str_wrap(OPT_1$Asset, 30))

library(plotly)
ggplotly(w1,tooltip=&quot;Weights&quot;)</code></pre>
<div id="htmlwidget-3" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"data":[{"orientation":"h","width":[0.899999999999999,0.899999999999999,0.899999999999999,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0,0,0,0,0,0,0,0,0],"x":[0.0196547058840068,0.0196372385330572,0.0195298517403478,0.0192245815091217,0.0191909322836869,0.0189559293328013,0.0189014505044528,0.0188016465289498,0.0186726385290293,0.0181435334423002],"y":[10,9,8,7,6,5,4,3,2,1],"text":["Weights: 0.01965471","Weights: 0.01963724","Weights: 0.01952985","Weights: 0.01922458","Weights: 0.01919093","Weights: 0.01895593","Weights: 0.01890145","Weights: 0.01880165","Weights: 0.01867264","Weights: 0.01814353"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,105,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":165.047737650477},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Top 10 - Minimum Variance Portfolio Weights","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.00098273529420034,0.0206374411782071],"tickmode":"array","ticktext":["0.0%","0.5%","1.0%","1.5%","2.0%"],"tickvals":[0,0.005,0.01,0.015,0.02],"categoryorder":"array","categoryarray":["0.0%","0.5%","1.0%","1.5%","2.0%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Weights","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,10.6],"tickmode":"array","ticktext":["Parque Eólico Los Teros II","Parque Solar Fotovoltaico<br />Tocota","Parque Eólico Pomona I","Parque Solar Fotovoltaico<br />Arroyo del Cabral","El Parque Eólico Madryn","Parque Eólico La Genoveva","Parque Solar Fotovoltaico<br />Villa Dolores","Parque Solar La Puna","Parque Solar Nonogasta II y IV","Parque Eólico Achiras"],"tickvals":[1,2,3,4,5,6,7,8,9,10],"categoryorder":"array","categoryarray":["Parque Eólico Los Teros II","Parque Solar Fotovoltaico<br />Tocota","Parque Eólico Pomona I","Parque Solar Fotovoltaico<br />Arroyo del Cabral","El Parque Eólico Madryn","Parque Eólico La Genoveva","Parque Solar Fotovoltaico<br />Villa Dolores","Parque Solar La Puna","Parque Solar Nonogasta II y IV","Parque Eólico Achiras"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.29846409298464},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Assets","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"31005cc2738e":{"x":{},"y":{},"type":"bar"}},"cur_data":"31005cc2738e","visdat":{"31005cc2738e":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-portafolio-de-max---sharpe-ratio" class="section level3">
<h3>Portafolio de Max - Sharpe Ratio</h3>
<pre class="r"><code>portfolio_values&lt;-readRDS(&quot;Simulacion_Port.RDS&quot;)

max_sr &lt;- portfolio_values[which.max(portfolio_values$SharpeRatio),]

#Ordenar (assets) de mayor a menor  (portafolio óptimo max SharpeRatio)
OPT_2&lt;-max_sr %&gt;%
    gather( key = Asset,
            value = Weights) %&gt;% 
    filter(!Asset %in% c(&quot;Risk&quot;, &quot;Return&quot;, &quot;SharpeRatio&quot;)) %&gt;% 
  mutate(Tipo = Places$Tipo) %&gt;% 
  arrange(-Weights)
    
  
  
w2&lt;-OPT_2[1:10,] %&gt;%
  mutate(Asset = as.factor(Asset),Tipo=as.factor(Tipo)) %&gt;% 
  select(Tipo,Asset,Weights) %&gt;% 
  ggplot(aes(x = fct_reorder(Asset,Weights), y = Weights)) +
  geom_bar(stat = &#39;identity&#39;,fill=&quot;#A569BD&quot;) +
  #scale_fill_manual(values = 
  #                  c(Eólica=&quot;#2ECC71&quot;,Solar= &quot;#21618C&quot; ,Hidráulica= &quot;#F39C12&quot;),drop = FALSE)+
  theme_minimal() +
  labs(x = &#39;Assets&#39;, y = &#39;Weights&#39;, title = &quot;Top 10 - Max Sharpe Ratio&quot;) +
  scale_y_continuous(labels = scales::percent) +
  coord_flip()+
  #geom_text(aes(label=Tipo), vjust=0, hjust = 2, color=&quot;#09325B&quot;,
  #          position = position_dodge(0.9), size=3.5)+
  theme(axis.text.y = element_text(hjust=1, vjust=0.5, size=5)) +
  scale_x_discrete(
    limits = rev(levels(OPT_2$Asset)),
    labels=str_wrap(OPT_2$Asset, 30))

library(plotly)
ggplotly(w2,tooltip=&quot;Weights&quot;)</code></pre>
<div id="htmlwidget-4" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"data":[{"orientation":"h","width":[0.899999999999999,0.899999999999999,0.899999999999999,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0,0,0,0,0,0,0,0,0],"x":[0.0202580002122192,0.0201423447694726,0.0201343340360626,0.0196916292756389,0.019218905063514,0.0191698983011203,0.01901202778789,0.0186909220307105,0.0181096601903349,0.0179439340362531],"y":[10,9,8,7,6,5,4,3,2,1],"text":["Weights: 0.02025800","Weights: 0.02014234","Weights: 0.02013433","Weights: 0.01969163","Weights: 0.01921891","Weights: 0.01916990","Weights: 0.01901203","Weights: 0.01869092","Weights: 0.01810966","Weights: 0.01794393"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(165,105,189,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":125.197177251972},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Top 10 - Max Sharpe Ratio","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.00101290001061096,0.0212709002228301],"tickmode":"array","ticktext":["0.0%","0.5%","1.0%","1.5%","2.0%"],"tickvals":[0,0.005,0.01,0.015,0.02],"categoryorder":"array","categoryarray":["0.0%","0.5%","1.0%","1.5%","2.0%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Weights","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,10.6],"tickmode":"array","ticktext":["Parque Eólico La Banderita<br />General Acha","Aprovechamiento Hidroeléctrico<br />Alicurá","Parque Solar Fotovoltaico<br />Verano Capital Solar One","Parque Eólico del Bicentenario","Complejo Hidroeléctrico Salto<br />Grande","Parque Eólico Energética I","Parque Solar Fotovoltaico<br />Caldenes del Oeste","Parque Solar Fotovoltaico<br />Anchoris","Aprovechamiento Hidroeléctrico<br />Futaleufú","Aprovechamiento Hidroeléctrico<br />El Tunal Presa Gral Martín<br />Miguel de Güemes"],"tickvals":[1,2,3,4,5,6,7,8,9,10],"categoryorder":"array","categoryarray":["Parque Eólico La Banderita<br />General Acha","Aprovechamiento Hidroeléctrico<br />Alicurá","Parque Solar Fotovoltaico<br />Verano Capital Solar One","Parque Eólico del Bicentenario","Complejo Hidroeléctrico Salto<br />Grande","Parque Eólico Energética I","Parque Solar Fotovoltaico<br />Caldenes del Oeste","Parque Solar Fotovoltaico<br />Anchoris","Aprovechamiento Hidroeléctrico<br />Futaleufú","Aprovechamiento Hidroeléctrico<br />El Tunal Presa Gral Martín<br />Miguel de Güemes"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Assets","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3100d23a66":{"x":{},"y":{},"type":"bar"}},"cur_data":"3100d23a66","visdat":{"3100d23a66":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-frontera-eficiente" class="section level3">
<h3>Frontera Eficiente</h3>
<pre class="r"><code>portfolio_values %&gt;%
  ggplot(aes(x = Risk, y = Return, color = SharpeRatio)) +
  geom_point() +
  theme_classic() +
  scale_y_continuous(labels = scales::percent) +
  scale_x_continuous(labels = scales::percent) +
  labs(x = &#39;Annualized Risk&#39;,
       y = &#39;Returns&#39;,
       title = &quot;Portfolio Optimization &amp; Efficient Frontier&quot;) +
  geom_point(aes(x = Risk,
                 y = Return), data = min_var, color = &#39;red&#39;,size=5) +
  geom_point(aes(x = Risk,
                 y = Return), data = max_sr, color = &#39;orange&#39;,size=5)</code></pre>
<p><img src="/www.joaquibarandica.iopost/DataVizR/AppBeta/AppBeta_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
</div>
</div>
